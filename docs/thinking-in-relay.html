<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Thinking in Relay Â· Relay</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Relayì˜ Data-fetchingì— ëŒ€í•œ ì ‘ê·¼ ë°©ì‹ì€ Reactì—ì„œ ì–»ì€ ì €í¬ì˜ ê²½í—˜ìœ¼ë¡œë¶€í„° ë§ì€ ì˜ê°ì„ ë°›ì•˜ìŠµë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ReactëŠ” ë³µì¡í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¬ì‚¬ìš©ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ë¡œ ìª¼ê°­ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê°œë°œìë“¤ì€ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë¶„ë¦¬í•  êµ¬ì²´ì ì¸ ë‹¨ìœ„ì— ëŒ€í•´ ìƒê°í•  ìˆ˜ ìˆê²Œ ë˜ê³ , ì–´í”Œë¦¬ì¼€ì´ì…˜ ë‚´ ë‹¤ë¥¸ ì—­í• ì„ í•˜ëŠ” ë¶€ë¶„ë“¤ ì‚¬ì´ì˜ ì—°ê´€ê´€ê³„ë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ë¬´ì—‡ë³´ë‹¤ ì¤‘ìš”í•œ ë¶€ë¶„ì€ ë°”ë¡œ **ì„ ì–¸ì **ì´ë¼ëŠ” ê²ƒì…ë‹ˆë‹¤: ì„ ì–¸ì ìœ¼ë¡œ UIë¥¼ ê·¸ë¦¬ëŠ” ë°©ë²•ì€ ê°œë°œìë¡œ í•˜ì—¬ê¸ˆ *ì–´ë–»ê²Œ* UIë¥¼ ê·¸ë¦´ì§€ì— ëŒ€í•œ ì—¼ë ¤ì—†ì´, ì£¼ì–´ì§„ Stateë¡œ *ë¬´ì—‡ì„* ê·¸ë¦´ì§€ë§Œ ê³ ë¯¼í•˜ê²Œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤. ì ˆì°¨ì  í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ ë„¤ì´í‹°ë¸Œ ë·°(ì˜ˆ: DOM)ë¥¼ ì¡°ì‘í•˜ëŠ” ì´ì „ì˜ ì ‘ê·¼ê³¼ ë‹¤ë¥´ê²Œ, ReactëŠ” UI ëª…ì„¸ë¥¼ ê°€ì§€ê³  ìë™ìœ¼ë¡œ ê¼­ í•„ìš”í•œ í–‰ë™ë§Œ í•˜ê²Œë©ë‹ˆë‹¤."/><meta name="docsearch:version" content="v8.0.0-ko.0"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Thinking in Relay Â· Relay"/><meta property="og:type" content="website"/><meta property="og:url" content="https://relay.dev/"/><meta property="og:description" content="Relayì˜ Data-fetchingì— ëŒ€í•œ ì ‘ê·¼ ë°©ì‹ì€ Reactì—ì„œ ì–»ì€ ì €í¬ì˜ ê²½í—˜ìœ¼ë¡œë¶€í„° ë§ì€ ì˜ê°ì„ ë°›ì•˜ìŠµë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ReactëŠ” ë³µì¡í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¬ì‚¬ìš©ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ë¡œ ìª¼ê°­ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê°œë°œìë“¤ì€ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë¶„ë¦¬í•  êµ¬ì²´ì ì¸ ë‹¨ìœ„ì— ëŒ€í•´ ìƒê°í•  ìˆ˜ ìˆê²Œ ë˜ê³ , ì–´í”Œë¦¬ì¼€ì´ì…˜ ë‚´ ë‹¤ë¥¸ ì—­í• ì„ í•˜ëŠ” ë¶€ë¶„ë“¤ ì‚¬ì´ì˜ ì—°ê´€ê´€ê³„ë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ë¬´ì—‡ë³´ë‹¤ ì¤‘ìš”í•œ ë¶€ë¶„ì€ ë°”ë¡œ **ì„ ì–¸ì **ì´ë¼ëŠ” ê²ƒì…ë‹ˆë‹¤: ì„ ì–¸ì ìœ¼ë¡œ UIë¥¼ ê·¸ë¦¬ëŠ” ë°©ë²•ì€ ê°œë°œìë¡œ í•˜ì—¬ê¸ˆ *ì–´ë–»ê²Œ* UIë¥¼ ê·¸ë¦´ì§€ì— ëŒ€í•œ ì—¼ë ¤ì—†ì´, ì£¼ì–´ì§„ Stateë¡œ *ë¬´ì—‡ì„* ê·¸ë¦´ì§€ë§Œ ê³ ë¯¼í•˜ê²Œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤. ì ˆì°¨ì  í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ ë„¤ì´í‹°ë¸Œ ë·°(ì˜ˆ: DOM)ë¥¼ ì¡°ì‘í•˜ëŠ” ì´ì „ì˜ ì ‘ê·¼ê³¼ ë‹¤ë¥´ê²Œ, ReactëŠ” UI ëª…ì„¸ë¥¼ ê°€ì§€ê³  ìë™ìœ¼ë¡œ ê¼­ í•„ìš”í•œ í–‰ë™ë§Œ í•˜ê²Œë©ë‹ˆë‹¤."/><meta property="og:image" content="https://relay.dev/img/relay.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://relay.dev/img/relay.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="/js/redirect.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><h2 class="headerTitle">Relay</h2></a><a href="/versions"><h3>v8.0.0-ko.0</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/introduction-to-relay" target="_self">ë¬¸ì„œ</a></li><li class=""><a href="/help" target="_self">ë„ì›€</a></li><li class=""><a href="https://github.com/facebook/relay" target="_self">GitHub</a></li><li class=""><a href="https://github.com/relay-ko/relay-ko.github.io" target="_self">ğŸ‡°ğŸ‡·í•œêµ­ì–´ ë²ˆì—­</a></li><li class=""><a target="_self"></a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>â€º</i><span>ì›ì¹™ê³¼ ì„¤ê³„</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ì‹œì‘í•˜ê¸°<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/introduction-to-relay">Relay ì‹œì‘í•˜ê¸°</a></li><li class="navListItem"><a class="navItem" href="/docs/prerequisites">ì‚¬ì „ ì¤€ë¹„ì‚¬í•­</a></li><li class="navListItem"><a class="navItem" href="/docs/installation-and-setup">ì„¤ì¹˜ ë° ì„¤ì •</a></li><li class="navListItem"><a class="navItem" href="/docs/quick-start-guide">ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">API ë ˆí¼ëŸ°ìŠ¤<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/graphql-in-relay">Relayì—ì„œì˜ GraphQL</a></li><li class="navListItem"><a class="navItem" href="/docs/relay-environment">Relay Environment</a></li><li class="navListItem"><a class="navItem" href="/docs/network-layer">Network Layer</a></li><li class="navListItem"><a class="navItem" href="/docs/query-renderer">QueryRenderer</a></li><li class="navListItem"><a class="navItem" href="/docs/fragment-container">Fragment Container</a></li><li class="navListItem"><a class="navItem" href="/docs/refetch-container">Refetch Container</a></li><li class="navListItem"><a class="navItem" href="/docs/pagination-container">Pagination Container</a></li><li class="navListItem"><a class="navItem" href="/docs/mutations">Mutations</a></li><li class="navListItem"><a class="navItem" href="/docs/subscriptions">Subscriptions</a></li><li class="navListItem"><a class="navItem" href="/docs/relay-store">Relay Store</a></li><li class="navListItem"><a class="navItem" href="/docs/fetch-query">fetchQuery</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ê°€ì´ë“œ<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/routing">ë¼ìš°íŒ…</a></li><li class="navListItem"><a class="navItem" href="/docs/relay-debugging">ë””ë²„ê¹…</a></li><li class="navListItem"><a class="navItem" href="/docs/graphql-server-specification">GraphQL ì„œë²„ ëª…ì„¸</a></li><li class="navListItem"><a class="navItem" href="/docs/persisted-queries">Persisted Queries</a></li><li class="navListItem"><a class="navItem" href="/docs/type-emission">íƒ€ì… ìƒì„±</a></li><li class="navListItem"><a class="navItem" href="/docs/testing-relay-components">Relay ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸°</a></li><li class="navListItem"><a class="navItem" href="/docs/local-state-management">ë¡œì»¬ ìƒíƒœ ê´€ë¦¬</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ì›ì¹™ê³¼ ì„¤ê³„<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/thinking-in-graphql">Thinking in GraphQL</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/thinking-in-relay">Thinking in Relay</a></li><li class="navListItem"><a class="navItem" href="/docs/architecture-overview">ì•„í‚¤í…ì³ ì‚´í´ë³´ê¸°</a></li><li class="navListItem"><a class="navItem" href="/docs/compiler-architecture">ì»´íŒŒì¼ëŸ¬ ì„¤ê³„</a></li><li class="navListItem"><a class="navItem" href="/docs/runtime-architecture">ëŸ°íƒ€ì„ ì„¤ê³„</a></li><li class="navListItem"><a class="navItem" href="/docs/videos">ì˜ìƒ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ì»¤ë®¤ë‹ˆí‹°<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/community-learning-resources">ì»¤ë®¤ë‹ˆí‹° í•™ìŠµ ìë£Œ</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/relay-ko/relay-ko.github.io/edit/develop/docs/PrinciplesAndArchitecture-ThinkingInRelay.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Thinking in Relay</h1></header><article><div><span><p>Relayì˜ Data-fetchingì— ëŒ€í•œ ì ‘ê·¼ ë°©ì‹ì€ Reactì—ì„œ ì–»ì€ ì €í¬ì˜ ê²½í—˜ìœ¼ë¡œë¶€í„° ë§ì€ ì˜ê°ì„ ë°›ì•˜ìŠµë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ReactëŠ” ë³µì¡í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¬ì‚¬ìš©ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ë¡œ ìª¼ê°­ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê°œë°œìë“¤ì€ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë¶„ë¦¬í•  êµ¬ì²´ì ì¸ ë‹¨ìœ„ì— ëŒ€í•´ ìƒê°í•  ìˆ˜ ìˆê²Œ ë˜ê³ , ì–´í”Œë¦¬ì¼€ì´ì…˜ ë‚´ ë‹¤ë¥¸ ì—­í• ì„ í•˜ëŠ” ë¶€ë¶„ë“¤ ì‚¬ì´ì˜ ì—°ê´€ê´€ê³„ë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ë¬´ì—‡ë³´ë‹¤ ì¤‘ìš”í•œ ë¶€ë¶„ì€ ë°”ë¡œ <strong>ì„ ì–¸ì </strong>ì´ë¼ëŠ” ê²ƒì…ë‹ˆë‹¤: ì„ ì–¸ì ìœ¼ë¡œ UIë¥¼ ê·¸ë¦¬ëŠ” ë°©ë²•ì€ ê°œë°œìë¡œ í•˜ì—¬ê¸ˆ <em>ì–´ë–»ê²Œ</em> UIë¥¼ ê·¸ë¦´ì§€ì— ëŒ€í•œ ì—¼ë ¤ì—†ì´, ì£¼ì–´ì§„ Stateë¡œ <em>ë¬´ì—‡ì„</em> ê·¸ë¦´ì§€ë§Œ ê³ ë¯¼í•˜ê²Œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤. ì ˆì°¨ì  í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ ë„¤ì´í‹°ë¸Œ ë·°(ì˜ˆ: DOM)ë¥¼ ì¡°ì‘í•˜ëŠ” ì´ì „ì˜ ì ‘ê·¼ê³¼ ë‹¤ë¥´ê²Œ, ReactëŠ” UI ëª…ì„¸ë¥¼ ê°€ì§€ê³  ìë™ìœ¼ë¡œ ê¼­ í•„ìš”í•œ í–‰ë™ë§Œ í•˜ê²Œë©ë‹ˆë‹¤.</p>
<p>ì ì´ì œ, ì–´ë–»ê²Œ ì´ ì•„ì´ë””ì–´ë¥¼ Relayì— ì–´ë–»ê²Œ ì ìš©í–ˆëŠ”ì§€ ëª‡ê°€ì§€ Product Use-caseë“¤ì„ í†µí•´ ì‚´í´ë´…ì‹œë‹¤. (Reactì— ì´ë¯¸ ìµìˆ™í•˜ì‹œë‹¤ê³  ê°€ì •í•œ ë’¤ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.)</p>
<h2><a class="anchor" aria-hidden="true" id="ë·°ë¥¼-ìœ„í•œ-ë°ì´í„°ë¥¼-ê°€ì ¸ì˜¤ëŠ”-ê²ƒ"></a><a href="#ë·°ë¥¼-ìœ„í•œ-ë°ì´í„°ë¥¼-ê°€ì ¸ì˜¤ëŠ”-ê²ƒ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ë·°ë¥¼ ìœ„í•œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒ</h2>
<p>ìš°ë¦¬ì˜ ê²½í—˜ì— ë”°ë¥´ë©´, ëŒ€ë¶€ë¶„ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì›í•˜ëŠ” êµ¬ë™ ë°©ì‹ì€ ë¡œë”© ì¸ë””ì¼€ì´í„°ê°€ ë³´ì—¬ì§ˆë•Œ View Hierarchyë‚´ì—ì„œ í•„ìš”í•œ ë°ì´í„°ë¥¼ í•œë²ˆì— ëª¨ë‘ Fetchí•˜ê³  ë°ì´í„°ê°€ ì¤€ë¹„ë˜ë©´ <em>ì „ì²´ ë·°</em>ë¥¼ í•œë²ˆì— ê·¸ë¦¬ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>
<p>ì´ë¥¼ ìœ„í•œ ì²«ë²ˆì§¸ ì†”ë£¨ì…˜ì€ ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìì‹ì—ê²Œ í•„ìš”í•œ ëª¨ë“  ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ê²ƒì€ Couplingì„ ë°œìƒì‹œí‚µë‹ˆë‹¤: í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë³€ê²½ì´ ë°œìƒí• ë•Œë§ˆë‹¤ ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë³€ê²½ ë  í•„ìš”ê°€ ìƒê¹ë‹ˆë‹¤. ì´ëŸ¬í•œ Couplingì€ ë²„ê·¸ë¥¼ ë§Œë‚  í™•ë¥ ì„ ë†’ì´ê³  ê°œë°œ ì†ë„ë¥¼ ëŠë¦¬ê²Œ ë§Œë“­ë‹ˆë‹¤. ê¶ê·¹ì ìœ¼ë¡œëŠ”, ì´ëŸ¬í•œ ì ‘ê·¼ë°©ì‹ì€ Reactì˜ ì»´í¬ë„ŒíŠ¸ ëª¨ë¸ì˜ ì¥ì ì„ ì–»ì„ìˆ˜ ì—†ê²Œ ë§Œë“­ë‹ˆë‹¤. í•„ìš”í•œ ë°ì´í„°ë¥¼ ì •ì˜í•˜ëŠ” ê°€ì¥ ìì—°ìŠ¤ëŸ¬ìš´ ë¶€ë¶„ì€ ë£¨íŠ¸ê°€ ì•„ë‹Œ ê° ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì¼ê²ƒì…ë‹ˆë‹¤.</p>
<p>ë‘ë²ˆì§¸ë¡œ ì‹œë„í•  ìˆ˜ ìˆëŠ” ì ‘ê·¼ë°©ë²•ì€ <code>render()</code>ë¥¼ ì²« ë°ì´í„° ìš”ì²­ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì¼ë‹¨ ê°„ë‹¨í•˜ê²Œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ê·¸ë¦° ë’¤ì—, ì–´ë–¤ ë°ì´í„°ê°€ í•„ìš”í•œì§€ íŒŒì•…í•˜ê³ , ë°ì´í„°ë¥¼ ìš”ì²­í•œ ë’¤, ë‹¤ì‹œ ê·¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì€ ì²˜ìŒì—ëŠ” ì¢‹ê²Œ ë³´ì´ë‚˜, ë¬¸ì œëŠ” <em>ì»´í¬ë„ŒíŠ¸ê°€ ì–´ë–¤ê±¸ ê·¸ë ¤ì•¼í• ì§€ê°€ ë°ì´í„°ë¥¼ í†µí•´ì„œë§Œ ì•Œ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤!</em> ë‹¤ë¥¸ ë§ë¡œ ì´ì•¼ê¸°í•˜ìë©´, ì´ê²ƒì€ ë°ì´í„° ìš”ì²­ì„ ì—¬ëŸ¬ë²ˆì— ë‚˜ëˆ ì„œ ì‹¤í–‰í•˜ê²Œ ë©ë‹ˆë‹¤: ì²«ë²ˆì§¸ë¡œ ê·¸ë ¤ì§ˆë•ŒëŠ” ë£¨íŠ¸ë¥¼ ë³´ê³  ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³ , ê·¸ë¦¬ê³  ê·¸ ì´í›„ì— ìì‹ì€ ë­ê°€ í•„ìš”í•œì§€ë¥¼ íŒŒì•…í•œ í›„ì— ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê²Œ ë©ë‹ˆë‹¤. ì´ë ‡ê²Œ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì˜ ë§¨ ì•„ë˜ê¹Œì§€ ë‚´ë ¤ê°€ê²Œ ë©ë‹ˆë‹¤. ë§Œì•½ ê° ë‹¨ê³„ë§ˆë‹¤ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì´ ì¼ì–´ë‚˜ê²Œ ëœë‹¤ë©´, ë Œë”ë§ì´ ëŠë ¤ì§€ê³ , ì—°ì†ì ì¸ ë°ì´í„° ì™•ë³µì´ í•„ìš”í•˜ê²Œ ë©ë‹ˆë‹¤. ê·¸ë˜ì„œ ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ìš°ë¦¬ëŠ” ì „ì²´ì ì¸ ë°ì´í„° ìš”êµ¬ë¥¼ í•œë²ˆì—, ì •ì ìœ¼ë¡œ íŒŒì•…í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
<p>This is where GraphQL comes into play. Components specify one or multiple GraphQL fragments for some of their props describing their data requirements.</p>
<p>Each GraphQL fragment has a unique name within an application which allows us to determine the query needed to fetch the full query tree in a build step and load all the required data in a single network request efficiently at runtime.</p>
<h2><a class="anchor" aria-hidden="true" id="data-components-aka-containers"></a><a href="#data-components-aka-containers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Data Components aka Containers</h2>
<p>Relay allows developers to annotate their React components with data dependencies by creating <strong>containers</strong>. These are regular React components that wrap the originals. A key design constraint is that React components are meant to be reusable, so Relay containers must be too. For example, a <code>&lt;Story /&gt;</code> component might implement a view for rendering any <code>Story</code> item. The actual story to render would be determined by the data passed to the component: <code>&lt;Story story={ ... } /&gt;</code>. The equivalent in GraphQL are <strong>fragments</strong>: named query snippets that specify what data to fetch <em>for an object of a given type</em>. We might describe the data needed by <code>&lt;Story&gt;</code> as follows:</p>
<pre><code class="hljs">fragment Story_story <span class="hljs-keyword">on</span> Story {
  <span class="hljs-built_in">text</span>
  author {
    <span class="hljs-built_in">name</span>
    photo
  }
}
</code></pre>
<p>And this fragment can then be used to define the Story container:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">const</span> {createFragmentContainer, graphql} = <span class="hljs-built_in">require</span>(<span class="hljs-string">'react-relay'</span>);

<span class="hljs-comment">// Plain React component.</span>
<span class="hljs-comment">// Usage: `&lt;Story story={ ... } /&gt;`</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Story</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{ ... }

<span class="hljs-comment">// Higher-order component that wraps `&lt;Story /&gt;`</span>
<span class="hljs-keyword">const</span> StoryContainer = createFragmentContainer(Story, {
  <span class="hljs-comment">// Define a fragment with a name matching the `story` prop expected above</span>
  <span class="hljs-attr">story</span>: graphql<span class="hljs-string">`
    fragment Story_story on Story {
      text
      author {
        name
        photo
      }
    }
  `</span>
})
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="rendering"></a><a href="#rendering" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rendering</h2>
<p>In React, rendering a view requires two inputs: the <em>component</em> to render, and a <em>root</em> DOM (UI) node to render into. Rendering Relay containers is similar: we need a <em>container</em> to render, and a <em>root</em> in the graph from which to start our query. We also must ensure that the queries for the container are executed and may want to show a loading indicator while data is being fetched. Similar to <code>ReactDOM.render(component, domNode)</code>, Relay provides <code>&lt;QueryRenderer query={...} variables={...} render={...}&gt;</code> for this purpose. The <code>query</code> and <code>variables</code> define what data to fetch and <code>render</code> defines what to render. Here's how we might render <code>&lt;StoryContainer&gt;</code>:</p>
<pre><code class="hljs css language-javascript">ReactDOM.render(
  &lt;QueryRenderer
    query={graphql`
      query StoryQuery($storyID: ID!) {
        node(id: $storyID) {
          ...Story_story
        }
      }
    `}
    variables={{
      storyID: '123',
    }}
    render={(props, error) =&gt; {
      if (error) {
        return &lt;ErrorView /&gt;;
      } else if (props) {
        return &lt;StoryContainer story={props.story} /&gt;;
      } else {
        return &lt;LoadingIndicator /&gt;;
      }
    }}
  /&gt;,
  rootElement
)
</code></pre>
<p><code>QueryRenderer</code> will then fetch the data and render <code>StoryContainer</code> once the data is available. Just as React allows developers to render views without directly manipulating the underlying view, Relay removes the need to directly communicate with the network.</p>
<h2><a class="anchor" aria-hidden="true" id="data-masking"></a><a href="#data-masking" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Data Masking</h2>
<p>With typical approaches to data-fetching we found that it was common for two components to have <em>implicit dependencies</em>. For example <code>&lt;StoryHeader /&gt;</code> might use some data without directly ensuring that the data was fetched. This data would often be fetched by some other part of the system, such as <code>&lt;Story /&gt;</code>. Then when we changed <code>&lt;Story /&gt;</code> and removed that data-fetching logic, <code>&lt;StoryHeader /&gt;</code> would suddenly and inexplicably break. These types of bugs are not always immediately apparent, especially in larger applications developed by larger teams. Manual and automated testing can only help so much: this is exactly the type of systematic problem that is better solved by a framework.</p>
<p>We've seen that Relay containers ensure that GraphQL fragments are fetched <em>before</em> the component is rendered. But containers also provide another benefit that isn't immediately obvious: <strong>data masking</strong>. Relay only allows components to access data they specifically ask for in GraphQL fragments â€” nothing more. So if one component queries for a Story's <code>text</code>, and another for its <code>author</code>, each can see <em>only</em> the field that they asked for. In fact, components can't even see the data requested by their <em>children</em>: that would also break encapsulation.</p>
<p>Relay also goes further: it uses opaque identifiers on <code>props</code> to validate that we've explicitly fetched the data for a component before rendering it. If <code>&lt;Story /&gt;</code> renders <code>&lt;StoryHeader /&gt;</code> but forgets to include its fragment, Relay will warn that the data for <code>&lt;StoryHeader /&gt;</code> is missing. In fact, Relay will warn <em>even if</em> some other component happened to fetch the same data required by <code>&lt;StoryHeader /&gt;</code>. This warning tells us that although things <em>might</em> work now they're highly likely to break later.</p>
<h1><a class="anchor" aria-hidden="true" id="conclusion"></a><a href="#conclusion" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h1>
<p>GraphQL provides a powerful tool for building efficient, decoupled client applications. Relay builds on this functionality to provide a framework for <strong>declarative data-fetching</strong>. By separating <em>what</em> data to fetch from <em>how</em> it is fetched, Relay helps developers build applications that are robust, transparent, and performant by default. It's a great complement to the component-centric way of thinking championed by React. While each of these technologies â€” React, Relay, and GraphQL â€” are powerful on their own, the combination is a <strong>UI platform</strong> that allows us to <em>move fast</em> and <em>ship high-quality apps at scale</em>.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 2020-2-3 by Tony</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/thinking-in-graphql"><span class="arrow-prev">â† </span><span class="function-name-prevnext">Thinking in GraphQL</span></a><a class="docs-next button" href="/docs/architecture-overview"><span>Architecture Overview</span><span class="arrow-next"> â†’</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#ë·°ë¥¼-ìœ„í•œ-ë°ì´í„°ë¥¼-ê°€ì ¸ì˜¤ëŠ”-ê²ƒ">ë·°ë¥¼ ìœ„í•œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒ</a></li><li><a href="#data-components-aka-containers">Data Components aka Containers</a></li><li><a href="#rendering">Rendering</a></li><li><a href="#data-masking">Data Masking</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/relay.svg" alt="Relay" width="66" height="58"/></a><div><h5>ë¬¸ì„œ</h5><a href="/docs/introduction-to-relay.html">ì‹œì‘í•˜ê¸°</a></div><div><h5>ì»¤ë®¤ë‹ˆí‹°</h5><a href="/users.html">ìœ ì € Showcase</a></div><div><h5>ë” ë³´ê¸°</h5><a href="https://github.com/facebook/relay">GitHub</a><a class="github-button" href="https://github.com/facebook/relay" data-icon="octicon-star" data-count-href="/facebook/relay/stargazers" data-count-api="/repos/facebook/relay#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright Â© 2020 Facebook Inc. / Translated by Tony (@tonyfromundefined)</section></footer></div></body></html>